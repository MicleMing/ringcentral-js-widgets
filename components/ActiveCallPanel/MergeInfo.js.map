{"version":3,"sources":["components/ActiveCallPanel/MergeInfo.js"],"names":["MergeInfo","props","currentLocale","timeCounter","lastCallInfo","currentCallTitle","currentCallAvatarUrl","formatPhone","isLastCallEnded","status","sessionStatus","finished","statusClasses","styles","callee_status","callee_status_disconnected","isOnConferenCall","calleeType","calleeTypes","conference","isContacts","contacts","calleeName","name","phoneNumber","mergeInfo","merge_item","callee_avatar","avatarUrl","extraNum","callee_name","i18n","getString","merge_item_active","callee_avatar_active","callee_name_active","callee_status_active","propTypes","PropTypes","string","isRequired","element","object","func","defaultProps","unknow","undefined"],"mappings":"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","file":"MergeInfo.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport sessionStatus from 'ringcentral-integration/modules/Webphone/sessionStatus';\nimport calleeTypes from 'ringcentral-integration/enums/calleeTypes';\nimport styles from './styles.scss';\nimport i18n from './i18n';\nimport CallAvatar from '../CallAvatar';\n\nfunction MergeInfo(props) {\n  const {\n    currentLocale,\n    timeCounter,\n    lastCallInfo,\n    currentCallTitle,\n    currentCallAvatarUrl,\n    formatPhone,\n  } = props;\n\n  const isLastCallEnded = lastCallInfo && lastCallInfo.status === sessionStatus.finished;\n  const statusClasses = classnames({\n    [styles.callee_status]: true,\n    [styles.callee_status_disconnected]: !!isLastCallEnded,\n  });\n\n  const isOnConferenCall = !!(\n    lastCallInfo && lastCallInfo.calleeType === calleeTypes.conference\n  );\n  const isContacts = !!(\n    lastCallInfo && lastCallInfo.calleeType === calleeTypes.contacts\n  );\n  const calleeName = isContacts ? lastCallInfo.name : formatPhone(lastCallInfo.phoneNumber);\n  return lastCallInfo ? (\n    <div className={styles.mergeInfo}>\n      <div className={styles.merge_item}>\n        <div className={styles.callee_avatar}>\n          <CallAvatar\n            avatarUrl={lastCallInfo.avatarUrl}\n            extraNum={isOnConferenCall ? lastCallInfo.extraNum : 0}\n            isOnConferenceCall={isOnConferenCall}\n            />\n        </div>\n        <div className={styles.callee_name}>\n          {\n            isOnConferenCall\n            ? i18n.getString('conferenceCall', currentLocale)\n            : calleeName\n          }\n        </div>\n        <div className={statusClasses}>\n          {lastCallInfo.status === sessionStatus.finished\n              ? i18n.getString('disconnected', currentLocale)\n              : i18n.getString('onHold', currentLocale)}\n        </div>\n      </div>\n      <div className={styles.merge_item_active}>\n        <div className={styles.callee_avatar_active} >\n          {\n              currentCallAvatarUrl\n                ? <CallAvatar avatarUrl={currentCallAvatarUrl} />\n                : <CallAvatar avatarUrl={null} />\n            }\n        </div>\n        <div className={styles.callee_name_active}>\n          {currentCallTitle}\n        </div>\n        <div className={styles.callee_status_active}>\n          {timeCounter}\n        </div>\n      </div>\n    </div>\n  ) : (<span />);\n}\n\nMergeInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  timeCounter: PropTypes.element.isRequired,\n  lastCallInfo: PropTypes.object,\n  currentCallTitle: PropTypes.string,\n  currentCallAvatarUrl: PropTypes.string,\n  formatPhone: PropTypes.func,\n};\n\nMergeInfo.defaultProps = {\n  lastCallInfo: { calleeType: calleeTypes.unknow },\n  currentCallTitle: undefined,\n  currentCallAvatarUrl: undefined,\n  formatPhone: () => null,\n};\n\nexport default MergeInfo;\n"]}