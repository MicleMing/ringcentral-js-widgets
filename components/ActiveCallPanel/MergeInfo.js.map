{"version":3,"sources":["components/ActiveCallPanel/MergeInfo.js"],"names":["MergeInfo","props","currentLocale","timeCounter","lastCallInfo","currentCallTitle","currentCallAvatarUrl","isLastCallEnded","status","sessionStatus","finished","statusClasses","styles","callee_status","callee_status_disconnected","isOnConferenCall","calleeType","calleeTypes","conference","mergeInfo","merge_item","callee_avatar","avatarUrl","extraNum","callee_name","i18n","getString","name","merge_item_active","callee_avatar_active","callee_name_active","callee_status_active","propTypes","PropTypes","string","isRequired","element","object","defaultProps","unknow","undefined"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AAAA,MAEtBC,aAFsB,GAOpBD,KAPoB,CAEtBC,aAFsB;AAAA,MAGtBC,WAHsB,GAOpBF,KAPoB,CAGtBE,WAHsB;AAAA,MAItBC,YAJsB,GAOpBH,KAPoB,CAItBG,YAJsB;AAAA,MAKtBC,gBALsB,GAOpBJ,KAPoB,CAKtBI,gBALsB;AAAA,MAMtBC,oBANsB,GAOpBL,KAPoB,CAMtBK,oBANsB;;;AASxB,MAAMC,kBAAkBH,gBAAgBA,aAAaI,MAAb,KAAwBC,wBAAcC,QAA9E;AACA,MAAMC,gBAAgB,wFACnBC,iBAAOC,aADY,EACI,IADJ,8CAEnBD,iBAAOE,0BAFY,EAEiB,CAAC,CAACP,eAFnB,gBAAtB;;AAKA,MAAMQ,mBAAmB,CAAC,EACxBX,gBAAgBA,aAAaY,UAAb,KAA4BC,sBAAYC,UADhC,CAA1B;;AAIA,SAAOd,eACL;AAAA;AAAA,MAAK,WAAWQ,iBAAOO,SAAvB;AACE;AAAA;AAAA,QAAK,WAAWP,iBAAOQ,UAAvB;AACE;AAAA;AAAA,UAAK,WAAWR,iBAAOS,aAAvB;AACE,sCAAC,oBAAD;AACE,qBAAWjB,aAAakB,SAD1B;AAEE,oBAAUP,mBAAmBX,aAAamB,QAAhC,GAA2C,CAFvD;AAGE,8BAAoBR;AAHtB;AADF,OADF;AAQE;AAAA;AAAA,UAAK,WAAWH,iBAAOY,WAAvB;AAEOpB,qBAAaY,UAAb,KAA4BC,sBAAYC,UAAzC,GACIO,eAAKC,SAAL,CAAe,gBAAf,EAAiCxB,aAAjC,CADJ,GAEIE,aAAauB;AAJvB,OARF;AAeE;AAAA;AAAA,UAAK,WAAWhB,aAAhB;AACGP,qBAAaI,MAAb,KAAwBC,wBAAcC,QAAtC,GACKe,eAAKC,SAAL,CAAe,cAAf,EAA+BxB,aAA/B,CADL,GAEKuB,eAAKC,SAAL,CAAe,QAAf,EAAyBxB,aAAzB;AAHR;AAfF,KADF;AAsBE;AAAA;AAAA,QAAK,WAAWU,iBAAOgB,iBAAvB;AACE;AAAA;AAAA,UAAK,WAAWhB,iBAAOiB,oBAAvB;AAEMvB,+BACI,8BAAC,oBAAD,IAAY,WAAWA,oBAAvB,GADJ,GAEI,8BAAC,oBAAD,IAAY,WAAW,IAAvB;AAJV,OADF;AAQE;AAAA;AAAA,UAAK,WAAWM,iBAAOkB,kBAAvB;AACGzB;AADH,OARF;AAWE;AAAA;AAAA,UAAK,WAAWO,iBAAOmB,oBAAvB;AACG5B;AADH;AAXF;AAtBF,GADK,GAuCF,2CAvCL;AAwCD;;AAEDH,UAAUgC,SAAV,GAAsB;AACpB9B,iBAAe+B,oBAAUC,MAAV,CAAiBC,UADZ;AAEpBhC,eAAa8B,oBAAUG,OAAV,CAAkBD,UAFX;AAGpB/B,gBAAc6B,oBAAUI,MAHJ;AAIpBhC,oBAAkB4B,oBAAUC,MAJR;AAKpB5B,wBAAsB2B,oBAAUC;AALZ,CAAtB;;AAQAlC,UAAUsC,YAAV,GAAyB;AACvBlC,gBAAc,EAAEY,YAAYC,sBAAYsB,MAA1B,EADS;AAEvBlC,oBAAkBmC,SAFK;AAGvBlC,wBAAsBkC;AAHC,CAAzB;;kBAMexC,S","file":"MergeInfo.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport sessionStatus from 'ringcentral-integration/modules/Webphone/sessionStatus';\nimport calleeTypes from 'ringcentral-integration/enums/calleeTypes';\nimport styles from './styles.scss';\nimport i18n from './i18n';\nimport CallAvatar from '../CallAvatar';\n\nfunction MergeInfo(props) {\n  const {\n    currentLocale,\n    timeCounter,\n    lastCallInfo,\n    currentCallTitle,\n    currentCallAvatarUrl,\n  } = props;\n\n  const isLastCallEnded = lastCallInfo && lastCallInfo.status === sessionStatus.finished;\n  const statusClasses = classnames({\n    [styles.callee_status]: true,\n    [styles.callee_status_disconnected]: !!isLastCallEnded,\n  });\n\n  const isOnConferenCall = !!(\n    lastCallInfo && lastCallInfo.calleeType === calleeTypes.conference\n  );\n\n  return lastCallInfo ? (\n    <div className={styles.mergeInfo}>\n      <div className={styles.merge_item}>\n        <div className={styles.callee_avatar}>\n          <CallAvatar\n            avatarUrl={lastCallInfo.avatarUrl}\n            extraNum={isOnConferenCall ? lastCallInfo.extraNum : 0}\n            isOnConferenceCall={isOnConferenCall}\n            />\n        </div>\n        <div className={styles.callee_name}>\n          {\n              (lastCallInfo.calleeType === calleeTypes.conference)\n                ? i18n.getString('conferenceCall', currentLocale)\n                : lastCallInfo.name\n            }\n        </div>\n        <div className={statusClasses}>\n          {lastCallInfo.status === sessionStatus.finished\n              ? i18n.getString('disconnected', currentLocale)\n              : i18n.getString('onHold', currentLocale)}\n        </div>\n      </div>\n      <div className={styles.merge_item_active}>\n        <div className={styles.callee_avatar_active} >\n          {\n              currentCallAvatarUrl\n                ? <CallAvatar avatarUrl={currentCallAvatarUrl} />\n                : <CallAvatar avatarUrl={null} />\n            }\n        </div>\n        <div className={styles.callee_name_active}>\n          {currentCallTitle}\n        </div>\n        <div className={styles.callee_status_active}>\n          {timeCounter}\n        </div>\n      </div>\n    </div>\n  ) : (<span />);\n}\n\nMergeInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  timeCounter: PropTypes.element.isRequired,\n  lastCallInfo: PropTypes.object,\n  currentCallTitle: PropTypes.string,\n  currentCallAvatarUrl: PropTypes.string,\n};\n\nMergeInfo.defaultProps = {\n  lastCallInfo: { calleeType: calleeTypes.unknow },\n  currentCallTitle: undefined,\n  currentCallAvatarUrl: undefined,\n};\n\nexport default MergeInfo;\n"]}