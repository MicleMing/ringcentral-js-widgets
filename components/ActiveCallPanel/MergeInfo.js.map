{"version":3,"sources":["components/ActiveCallPanel/MergeInfo.js"],"names":["MergeInfo","props","currentLocale","timeCounter","lastCallInfo","currentCallTitle","currentCallAvatarUrl","formatPhone","isLastCallEnded","status","sessionStatus","finished","statusClasses","styles","callee_status","callee_status_disconnected","isOnConferenCall","calleeType","calleeTypes","conference","isContacts","contacts","mergeInfo","merge_item","callee_avatar","avatarUrl","extraNum","callee_name","i18n","getString","name","phoneNumber","merge_item_active","callee_avatar_active","callee_name_active","callee_status_active","propTypes","PropTypes","string","isRequired","element","object","func","defaultProps","unknow","undefined"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AAAA,MAEtBC,aAFsB,GAQpBD,KARoB,CAEtBC,aAFsB;AAAA,MAGtBC,WAHsB,GAQpBF,KARoB,CAGtBE,WAHsB;AAAA,MAItBC,YAJsB,GAQpBH,KARoB,CAItBG,YAJsB;AAAA,MAKtBC,gBALsB,GAQpBJ,KARoB,CAKtBI,gBALsB;AAAA,MAMtBC,oBANsB,GAQpBL,KARoB,CAMtBK,oBANsB;AAAA,MAOtBC,WAPsB,GAQpBN,KARoB,CAOtBM,WAPsB;;;AAUxB,MAAMC,kBAAkBJ,gBAAgBA,aAAaK,MAAb,KAAwBC,wBAAcC,QAA9E;AACA,MAAMC,gBAAgB,wFACnBC,iBAAOC,aADY,EACI,IADJ,8CAEnBD,iBAAOE,0BAFY,EAEiB,CAAC,CAACP,eAFnB,gBAAtB;;AAKA,MAAMQ,mBAAmB,CAAC,EACxBZ,gBAAgBA,aAAaa,UAAb,KAA4BC,sBAAYC,UADhC,CAA1B;AAGA,MAAMC,aAAa,CAAC,EAClBhB,gBAAgBA,aAAaa,UAAb,KAA4BC,sBAAYG,QADtC,CAApB;;AAIA,SAAOjB,eACL;AAAA;AAAA,MAAK,WAAWS,iBAAOS,SAAvB;AACE;AAAA;AAAA,QAAK,WAAWT,iBAAOU,UAAvB;AACE;AAAA;AAAA,UAAK,WAAWV,iBAAOW,aAAvB;AACE,sCAAC,oBAAD;AACE,qBAAWpB,aAAaqB,SAD1B;AAEE,oBAAUT,mBAAmBZ,aAAasB,QAAhC,GAA2C,CAFvD;AAGE,8BAAoBV;AAHtB;AADF,OADF;AAQE;AAAA;AAAA,UAAK,WAAWH,iBAAOc,WAAvB;;AAEI;AACAX,2BACEY,eAAKC,SAAL,CAAe,gBAAf,EAAiC3B,aAAjC,CADF,GAEEkB,aACEhB,aAAa0B,IADf,GAEEvB,YAAYH,aAAa2B,WAAzB;AAPR,OARF;AAkBE;AAAA;AAAA,UAAK,WAAWnB,aAAhB;AACGR,qBAAaK,MAAb,KAAwBC,wBAAcC,QAAtC,GACKiB,eAAKC,SAAL,CAAe,cAAf,EAA+B3B,aAA/B,CADL,GAEK0B,eAAKC,SAAL,CAAe,QAAf,EAAyB3B,aAAzB;AAHR;AAlBF,KADF;AAyBE;AAAA;AAAA,QAAK,WAAWW,iBAAOmB,iBAAvB;AACE;AAAA;AAAA,UAAK,WAAWnB,iBAAOoB,oBAAvB;AAEM3B,+BACI,8BAAC,oBAAD,IAAY,WAAWA,oBAAvB,GADJ,GAEI,8BAAC,oBAAD,IAAY,WAAW,IAAvB;AAJV,OADF;AAQE;AAAA;AAAA,UAAK,WAAWO,iBAAOqB,kBAAvB;AACG7B;AADH,OARF;AAWE;AAAA;AAAA,UAAK,WAAWQ,iBAAOsB,oBAAvB;AACGhC;AADH;AAXF;AAzBF,GADK,GA0CF,2CA1CL;AA2CD;;AAEDH,UAAUoC,SAAV,GAAsB;AACpBlC,iBAAemC,oBAAUC,MAAV,CAAiBC,UADZ;AAEpBpC,eAAakC,oBAAUG,OAAV,CAAkBD,UAFX;AAGpBnC,gBAAciC,oBAAUI,MAHJ;AAIpBpC,oBAAkBgC,oBAAUC,MAJR;AAKpBhC,wBAAsB+B,oBAAUC,MALZ;AAMpB/B,eAAa8B,oBAAUK;AANH,CAAtB;;AASA1C,UAAU2C,YAAV,GAAyB;AACvBvC,gBAAc,EAAEa,YAAYC,sBAAY0B,MAA1B,EADS;AAEvBvC,oBAAkBwC,SAFK;AAGvBvC,wBAAsBuC,SAHC;AAIvBtC,eAAa;AAAA,WAAM,IAAN;AAAA;AAJU,CAAzB;;kBAOeP,S","file":"MergeInfo.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport sessionStatus from 'ringcentral-integration/modules/Webphone/sessionStatus';\nimport calleeTypes from 'ringcentral-integration/enums/calleeTypes';\nimport styles from './styles.scss';\nimport i18n from './i18n';\nimport CallAvatar from '../CallAvatar';\n\nfunction MergeInfo(props) {\n  const {\n    currentLocale,\n    timeCounter,\n    lastCallInfo,\n    currentCallTitle,\n    currentCallAvatarUrl,\n    formatPhone,\n  } = props;\n\n  const isLastCallEnded = lastCallInfo && lastCallInfo.status === sessionStatus.finished;\n  const statusClasses = classnames({\n    [styles.callee_status]: true,\n    [styles.callee_status_disconnected]: !!isLastCallEnded,\n  });\n\n  const isOnConferenCall = !!(\n    lastCallInfo && lastCallInfo.calleeType === calleeTypes.conference\n  );\n  const isContacts = !!(\n    lastCallInfo && lastCallInfo.calleeType === calleeTypes.contacts\n  );\n\n  return lastCallInfo ? (\n    <div className={styles.mergeInfo}>\n      <div className={styles.merge_item}>\n        <div className={styles.callee_avatar}>\n          <CallAvatar\n            avatarUrl={lastCallInfo.avatarUrl}\n            extraNum={isOnConferenCall ? lastCallInfo.extraNum : 0}\n            isOnConferenceCall={isOnConferenCall}\n            />\n        </div>\n        <div className={styles.callee_name}>\n          {\n            // eslint-disable-next-line no-nested-ternary\n            isOnConferenCall\n            ? i18n.getString('conferenceCall', currentLocale)\n            : isContacts\n              ? lastCallInfo.name\n              : formatPhone(lastCallInfo.phoneNumber)\n          }\n        </div>\n        <div className={statusClasses}>\n          {lastCallInfo.status === sessionStatus.finished\n              ? i18n.getString('disconnected', currentLocale)\n              : i18n.getString('onHold', currentLocale)}\n        </div>\n      </div>\n      <div className={styles.merge_item_active}>\n        <div className={styles.callee_avatar_active} >\n          {\n              currentCallAvatarUrl\n                ? <CallAvatar avatarUrl={currentCallAvatarUrl} />\n                : <CallAvatar avatarUrl={null} />\n            }\n        </div>\n        <div className={styles.callee_name_active}>\n          {currentCallTitle}\n        </div>\n        <div className={styles.callee_status_active}>\n          {timeCounter}\n        </div>\n      </div>\n    </div>\n  ) : (<span />);\n}\n\nMergeInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  timeCounter: PropTypes.element.isRequired,\n  lastCallInfo: PropTypes.object,\n  currentCallTitle: PropTypes.string,\n  currentCallAvatarUrl: PropTypes.string,\n  formatPhone: PropTypes.func,\n};\n\nMergeInfo.defaultProps = {\n  lastCallInfo: { calleeType: calleeTypes.unknow },\n  currentCallTitle: undefined,\n  currentCallAvatarUrl: undefined,\n  formatPhone: () => null,\n};\n\nexport default MergeInfo;\n"]}